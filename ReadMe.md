# Parabolaプロジェクト解説

このプロジェクトは、Unityというゲーム開発ツールを使って、物を投げたときに描く「放物線」の動きをシミュレーションする方法を学ぶためのものです。特に、放物線の動きを計算で正確に再現する方法と、物理エンジンの力を使ってより自然な動きを再現する方法の2つが紹介されています。

## このプロジェクトで学べること

*   **放物線って何？**: ボールを投げたときに描く、あのきれいなカーブの正体。
*   **数学と物理の力**: 放物線の動きを理解するために必要な、簡単な数学と物理の考え方。
*   **プログラムで動きを作る**: 計算や物理エンジンを使って、ゲームの中で物を動かす仕組み。

## 放物線ってどんな形？（数学の視点から）

放物線は、Uの字のような形をした曲線です。例えば、噴水から出る水のしぶきや、バスケットボールをシュートしたときのボールの軌道などが放物線を描きます。数学では、`y = ax²`という式で表されるグラフが放物線になります。この式の中の`a`という数字が変わると、放物線の開き方（広がり方）が変わります。

放物線には「頂点」という一番高い（または一番低い）点があり、その頂点を通る縦の線を境にして、左右がぴったり同じ形になる「対称性」という特徴があります。

## 物が飛ぶ動きのひみつ（物理の視点から）

私たちが物を投げると、その物は地面に落ちてきます。これは「重力」という地球が物を引っ張る力があるからです。空気の抵抗がなければ、投げられた物は必ず放物線を描いて飛んでいきます。この動きを「放物線運動」と呼びます。

物が飛ぶ速さ（速度）は、前に進む速さ（水平速度）と、上下に動く速さ（鉛直速度）に分けて考えることができます。水平速度は、空気の抵抗がなければずっと同じ速さです。でも、鉛直速度は重力の影響で常に変化します。上に飛んでいるときはだんだん遅くなり、一番高いところで一瞬止まって、その後はだんだん速くなりながら落ちていきます。

放物線運動は、この「横に一定の速さで進む動き」と「重力で上下に変化する動き」が合わさって生まれる、とても面白い現象なのです。





## CanonLogical.cs の解説：計算で動かす大砲

`CanonLogical.cs` は、弾の動きをあらかじめ計算して、その計算通りに弾を飛ばすスクリプトです。まるで、時刻表通りに走る電車のように、決められたレールの上を正確に進みます。

### どうやって動くの？

1.  **軌道を計算**: 弾がどこからどこへ飛ぶか、一番高くなる場所はどこか、といったことを数学の計算で決めます。
2.  **レールを作る**: 計算で決めた点のつながりが、弾が通る「レール」になります。
3.  **レールの上を移動**: 弾は、このレールの上を時間に合わせて移動していきます。途中で何かにぶつかっても、レールから外れることはありません。

### ここがポイント！

*   **正確さ**: 計算で動くので、いつも同じ軌道を正確に飛んでいきます。少しのズレも許されないパズルゲームなどで使うと便利です。
*   **物理エンジンは使わない**: Unityというゲーム開発ツールの「物理エンジン」という機能は使いません。スクリプト自身が弾の位置を管理します。

### 数学・物理の考え方

*   **放物線**: ボールを投げたときに描くU字型の曲線です。このスクリプトでは、この放物線の形を計算で作り出しています。
*   **対称性**: 投げた場所と落ちる場所のちょうど真ん中の真上に、一番高くなる点（頂点）が来るように計算しています。これは、放物線が左右対称になるという性質を利用しています。
*   **速度の分解**: 弾の速さを「横に進む速さ」と「上下に進む速さ」に分けて考え、それぞれを計算して弾の次の位置を決めています。
*   **重力の影響**: 弾は上に飛んでいっても、地球の重力によって常に下に引っ張られます。このスクリプトでは、重力によって弾の上下の動きがどのように変化するかを計算に取り入れています。





## CanonPhysical.cs の解説：物理エンジンで動かす大砲

`CanonPhysical.cs` は、Unityの「物理エンジン」という機能を使って、弾を飛ばすスクリプトです。まるで、本物の大砲のように、適切な角度と速さで弾を打ち出せば、あとは自然に目標に向かって飛んでいくイメージです。

### どうやって動くの？

1.  **初速を計算**: 弾を目標地点に届かせるために、どれくらいの速さで、どの方向に打ち出せばいいかを計算します。
2.  **物理エンジンに任せる**: 計算した初速を弾に与えると、あとは物理エンジンが重力などの影響を考えて、弾を自然に動かしてくれます。

### ここがポイント！

*   **リアルな動き**: 物理エンジンが重力や他の物とのぶつかり合いを自動で計算してくれるので、より現実世界に近い動きを再現できます。
*   **外部の影響**: 風などの外部からの力も、物理エンジンを使えばシミュレーションできます。

### 数学・物理の考え方

*   **初速と重力**: 弾が飛び出すときの最初の速さ（初速）と、地球が物を引っ張る力（重力）が、弾の飛び方に大きく影響します。このスクリプトは、これらの力を使って、弾がどのように飛んでいくかを計算しています。
*   **放物線運動**: 物体が重力の影響だけで飛ぶとき、その軌道は放物線になります。このスクリプトは、目標地点に到達するために、どのような初速で弾を打ち出せば良いかを、この放物線運動の法則を使って逆算しています。
*   **角度と飛距離**: 弾を打ち出す角度によって、飛距離や高さが変わります。例えば、真上に近い角度で打てば高く上がりますが、遠くへは飛びません。このスクリプトは、目標地点に届くための最適な角度を見つけ出します。
*   **物理エンジン**: Unityというゲーム開発ソフトには、「物理エンジン」という機能があります。これは、重力や摩擦などの物理法則を自動で計算してくれるものです。このスクリプトは、物理エンジンに「この速さで、この方向に弾を飛ばしてね」と指示を出すだけで、あとは物理エンジンが勝手に放物線を描いてくれます。まるで、本物のボールを投げたときに、空気抵抗や重力によって自然に飛んでいくのと同じような動きを再現できるのです。





## CanonLogical.cs と CanonPhysical.cs の比較：計算か、物理エンジンか？

このプロジェクトには、弾を飛ばすための2つのスクリプト、`CanonLogical.cs` と `CanonPhysical.cs` があります。どちらも放物線を描いて弾を飛ばしますが、そのやり方が大きく違います。

### 1. 動きの作り方の違い

*   **`CanonLogical.cs` (計算で動かす)**:
    *   弾の飛ぶ道を、数学の計算で全部決めてしまいます。まるで、あらかじめ引かれたレールの上を走る電車のように、計算通りに正確に動きます。
    *   Unityの物理エンジンは使いません。スクリプトが弾の場所を細かく管理します。

*   **`CanonPhysical.cs` (物理エンジンで動かす)**:
    *   弾を打ち出す最初の速さと方向（初速ベクトル）だけを計算します。あとは、Unityの物理エンジンに「この速さで、この方向に飛ばしてね」と指示を出すだけです。
    *   物理エンジンが、重力や他の物とのぶつかり合いを自動で計算して、弾を自然に動かしてくれます。まるで、本物のボールを投げたときのように、途中で風が吹いたり、何かに当たったりすれば、動きが変わります。

### 2. どんなときに使うのがいい？

*   **`CanonLogical.cs` はこんなときに便利**:
    *   「絶対にこのレールの上を通ってほしい！」というように、弾の動きを完璧にコントロールしたいゲーム（パズルゲームなど）。
    *   いつも同じ動きをさせたい、演出のための動き。

*   **`CanonPhysical.cs` はこんなときに便利**:
    *   「本物みたいにリアルに動かしたい！」というゲーム（シューティングゲームなど）。
    *   弾が壁に当たって跳ね返ったり、風の影響を受けたりするような、自然な動きをさせたい場合。

### まとめ

`CanonLogical.cs` は「**時刻表通りに走る電車**」のように、正確で予測可能な動きをします。一方、`CanonPhysical.cs` は「**実際に空を飛ぶ飛行機**」のように、現実の物理法則に従って、より自然で変化に富んだ動きをします。

どちらのスクリプトを使うかは、ゲームやアプリで「何を一番大切にしたいか」によって選びます。正確さか、それともリアルさか、それが大きな違いです。


